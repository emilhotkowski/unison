<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>U.Codebase.Sqlite.Queries</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-codebase-sqlite-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/U.Codebase.Sqlite.Queries.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">U.Codebase.Sqlite.Queries</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">text table</a></li><li><a href="#g:2">hash table</a></li><li><a href="#g:3">hash_object table</a></li><li><a href="#g:4">object table</a></li><li><a href="#g:5">namespace_root table</a></li><li><a href="#g:6">causals</a><ul><li><a href="#g:7">causal table</a></li><li><a href="#g:8">causal_parent table</a></li></ul></li><li><a href="#g:9">watch table</a></li><li><a href="#g:10">indexes</a><ul><li><a href="#g:11">dependents index</a></li><li><a href="#g:12">migrations</a></li><li><a href="#g:13">type index</a></li><li><a href="#g:14">type mentions index</a></li></ul></li><li><a href="#g:15">hash prefix lookup</a></li><li><a href="#g:16">Name Lookup</a></li><li><a href="#g:17">garbage collection</a></li><li><a href="#g:18">sync temp entities</a></li><li><a href="#g:19">elaborate hashes</a></li><li><a href="#g:20">db misc</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Some naming conventions used in this module:</p><ul><li><code>32</code>: the base32 representation of a hash</li><li><code>expect</code>: retrieve something that's known to exist</li><li><code>load</code>: retrieve something that's not known to exist (so the return type is a Maybe, or another container that
     could be empty)</li><li><code>save</code>: idempotent (on conflict do nothing) insert, and return the id of the thing (usually)</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:saveText">saveText</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></li><li class="src short"><a href="#v:saveTexts">saveTexts</a> :: <a href="../base-4.14.3.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f =&gt; f <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (f <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>)</li><li class="src short"><a href="#v:loadTextId">loadTextId</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>)</li><li class="src short"><a href="#v:expectTextId">expectTextId</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a></li><li class="src short"><a href="#v:expectText">expectText</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:expectTextCheck">expectTextCheck</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:saveHash">saveHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:saveHashes">saveHashes</a> :: <a href="../base-4.14.3.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f =&gt; f <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (f <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:saveHashHash">saveHashHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:loadHashId">loadHashId</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:expectHash">expectHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:expectHash32">expectHash32</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a></li><li class="src short"><a href="#v:expectBranchHash">expectBranchHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a></li><li class="src short"><a href="#v:loadHashIdByHash">loadHashIdByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:expectHashIdByHash">expectHashIdByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:saveCausalHash">saveCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li class="src short"><a href="#v:expectCausalHash">expectCausalHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:saveBranchHash">saveBranchHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></li><li class="src short"><a href="#v:saveHashObject">saveHashObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:expectHashIdsForObject">expectHashIdsForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:hashIdWithVersionForObject">hashIdWithVersionForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a>)]</li><li class="src short"><a href="#v:loadObjectIdForPrimaryHashId">loadObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:expectObjectIdForPrimaryHashId">expectObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadObjectIdForPrimaryHash">loadObjectIdForPrimaryHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:expectObjectIdForPrimaryHash">expectObjectIdForPrimaryHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadPatchObjectIdForPrimaryHash">loadPatchObjectIdForPrimaryHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>)</li><li class="src short"><a href="#v:loadObjectIdForAnyHash">loadObjectIdForAnyHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:loadObjectIdForAnyHashId">loadObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:expectObjectIdForAnyHashId">expectObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:recordObjectRehash">recordObjectRehash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:saveObject">saveObject</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:isObjectHash">isObjectHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:expectObject">expectObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:expectPrimaryHashByObjectId">expectPrimaryHashByObjectId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></li><li class="src short"><a href="#v:expectPrimaryHashIdForObject">expectPrimaryHashIdForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a></li><li class="src short"><a href="#v:expectObjectWithHashIdAndType">expectObjectWithHashIdAndType</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:expectDeclObject">expectDeclObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:loadDeclObject">loadDeclObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:expectNamespaceObject">expectNamespaceObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:loadNamespaceObject">loadNamespaceObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:expectPatchObject">expectPatchObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:loadPatchObject">loadPatchObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:loadTermObject">loadTermObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:expectTermObject">expectTermObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a</li><li class="src short"><a href="#v:loadNamespaceRoot">loadNamespaceRoot</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:setNamespaceRoot">setNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:expectNamespaceRoot">expectNamespaceRoot</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li class="src short"><a href="#v:saveCausal">saveCausal</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:isCausalHash">isCausalHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:expectCausal">expectCausal</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Causal.html#t:SyncCausalFormat" title="U.Codebase.Sqlite.Causal">SyncCausalFormat</a></li><li class="src short"><a href="#v:loadCausalHashIdByCausalHash">loadCausalHashIdByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:expectCausalHashIdByCausalHash">expectCausalHashIdByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a></li><li class="src short"><a href="#v:expectCausalValueHashId">expectCausalValueHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></li><li class="src short"><a href="#v:loadCausalByCausalHash">loadCausalByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>))</li><li class="src short"><a href="#v:expectCausalByCausalHash">expectCausalByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>)</li><li class="src short"><a href="#v:loadBranchObjectIdByCausalHashId">loadBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>)</li><li class="src short"><a href="#v:expectBranchObjectIdByCausalHashId">expectBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></li><li class="src short"><a href="#v:saveCausalParents">saveCausalParents</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:loadCausalParents">loadCausalParents</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:loadCausalParentsByHash">loadCausalParentsByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a>]</li><li class="src short"><a href="#v:before">before</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:lca">lca</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:saveWatch">saveWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:loadWatch">loadWatch</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:loadWatchesByWatchKind">loadWatchesByWatchKind</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a>]</li><li class="src short"><a href="#v:loadWatchKindsByReference">loadWatchKindsByReference</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a>]</li><li class="src short"><a href="#v:clearWatches">clearWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:addToDependentsIndex">addToDependentsIndex</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:getDependentsForDependency">getDependentsForDependency</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:getDependentsForDependencyComponent">getDependentsForDependencyComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:getDependenciesForDependent">getDependenciesForDependent</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a>]</li><li class="src short"><a href="#v:getDependencyIdsForDependent">getDependencyIdsForDependent</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:countObjects">countObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:countCausals">countCausals</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:countWatches">countWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:getCausalsWithoutBranchObjects">getCausalsWithoutBranchObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:removeHashObjectsByHashingVersion">removeHashObjectsByHashingVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:addToTypeIndex">addToTypeIndex</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:getReferentsByType">getReferentsByType</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>]</li><li class="src short"><a href="#v:getTypeReferenceForReferent">getTypeReferenceForReferent</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>)</li><li class="src short"><a href="#v:getTypeReferencesForComponent">getTypeReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)]</li><li class="src short"><a href="#v:addToTypeMentionsIndex">addToTypeMentionsIndex</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:getReferentsByTypeMention">getReferentsByTypeMention</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>]</li><li class="src short"><a href="#v:getTypeMentionsReferencesForComponent">getTypeMentionsReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)]</li><li class="src short"><a href="#v:objectIdByBase32Prefix">objectIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>]</li><li class="src short"><a href="#v:namespaceHashIdByBase32Prefix">namespaceHashIdByBase32Prefix</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>]</li><li class="src short"><a href="#v:causalHashIdByBase32Prefix">causalHashIdByBase32Prefix</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>]</li><li class="src short"><a href="#v:resetNameLookupTables">resetNameLookupTables</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:insertTermNames">insertTermNames</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="U-Codebase-Sqlite-Referent.html#t:TextReferent" title="U.Codebase.Sqlite.Referent">TextReferent</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NamedRef.html#t:ConstructorType" title="U.Codebase.Sqlite.NamedRef">ConstructorType</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:insertTypeNames">insertTypeNames</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="U-Codebase-Sqlite-Reference.html#t:TextReference" title="U.Codebase.Sqlite.Reference">TextReference</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:rootTermNames">rootTermNames</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="U-Codebase-Sqlite-Referent.html#t:TextReferent" title="U.Codebase.Sqlite.Referent">TextReferent</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NamedRef.html#t:ConstructorType" title="U.Codebase.Sqlite.NamedRef">ConstructorType</a>)]</li><li class="src short"><a href="#v:rootTypeNames">rootTypeNames</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="U-Codebase-Sqlite-Reference.html#t:TextReference" title="U.Codebase.Sqlite.Reference">TextReference</a>]</li><li class="src short"><a href="#v:garbageCollectObjectsWithoutHashes">garbageCollectObjectsWithoutHashes</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:garbageCollectWatchesWithoutObjects">garbageCollectWatchesWithoutObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:EntityLocation">EntityLocation</a><ul class="subs"><li>= <a href="#v:EntityInMainStorage">EntityInMainStorage</a></li><li>| <a href="#v:EntityInTempStorage">EntityInTempStorage</a></li></ul></li><li class="src short"><a href="#v:entityExists">entityExists</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:entityLocation">entityLocation</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Queries.html#t:EntityLocation" title="U.Codebase.Sqlite.Queries">EntityLocation</a>)</li><li class="src short"><a href="#v:expectEntity">expectEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a></li><li class="src short"><a href="#v:syncToTempEntity">syncToTempEntity</a> :: <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a></li><li class="src short"><a href="#v:insertTempEntity">insertTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> -&gt; <a href="../nonempty-containers-0.3.4.4/Data-Map-NonEmpty.html#t:NEMap" title="Data.Map.NonEmpty">NEMap</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:saveTempEntityInMain">saveTempEntityInMain</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:expectTempEntity">expectTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a></li><li class="src short"><a href="#v:deleteTempEntity">deleteTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:elaborateHashes">elaborateHashes</a> :: <a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>)</li><li class="src short"><a href="#v:addTempEntityTables">addTempEntityTables</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:addTypeMentionsToIndexForTerm">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:addTypeToIndexForTerm">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:c2xTerm">c2xTerm</a> :: <span class="keyword">forall</span> m t d. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:createSchema">createSchema</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:expectSchemaVersion">expectSchemaVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:localIdsToLookups">localIdsToLookups</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (t -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (d -&gt; m <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>)</li><li class="src short"><a href="#v:s2cDecl">s2cDecl</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTermWithType">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:saveDeclComponent">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:saveReferenceH">saveReferenceH</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a></li><li class="src short"><a href="#v:saveSyncEntity">saveSyncEntity</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>)</li><li class="src short"><a href="#v:saveTermComponent">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:schemaVersion">schemaVersion</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a></li><li class="src short"><a href="#v:setSchemaVersion">setSchemaVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:x2cTType">x2cTType</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a></li><li class="src short"><a href="#v:x2cTerm">x2cTerm</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>text table</h1></a><div class="top"><p class="src"><a id="v:saveText" class="def">saveText</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveText" class="link">Source</a> <a href="#v:saveText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveTexts" class="def">saveTexts</a> :: <a href="../base-4.14.3.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f =&gt; f <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (f <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#saveTexts" class="link">Source</a> <a href="#v:saveTexts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTextId" class="def">loadTextId</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadTextId" class="link">Source</a> <a href="#v:loadTextId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectTextId" class="def">expectTextId</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectTextId" class="link">Source</a> <a href="#v:expectTextId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectText" class="def">expectText</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectText" class="link">Source</a> <a href="#v:expectText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectTextCheck" class="def">expectTextCheck</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> -&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectTextCheck" class="link">Source</a> <a href="#v:expectTextCheck" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>hash table</h1></a><div class="top"><p class="src"><a id="v:saveHash" class="def">saveHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveHash" class="link">Source</a> <a href="#v:saveHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveHashes" class="def">saveHashes</a> :: <a href="../base-4.14.3.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f =&gt; f <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (f <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#saveHashes" class="link">Source</a> <a href="#v:saveHashes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveHashHash" class="def">saveHashHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveHashHash" class="link">Source</a> <a href="#v:saveHashHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashId" class="def">loadHashId</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadHashId" class="link">Source</a> <a href="#v:loadHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectHash" class="def">expectHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectHash" class="link">Source</a> <a href="#v:expectHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectHash32" class="def">expectHash32</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectHash32" class="link">Source</a> <a href="#v:expectHash32" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectBranchHash" class="def">expectBranchHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectBranchHash" class="link">Source</a> <a href="#v:expectBranchHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadHashIdByHash" class="def">loadHashIdByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadHashIdByHash" class="link">Source</a> <a href="#v:loadHashIdByHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectHashIdByHash" class="def">expectHashIdByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectHashIdByHash" class="link">Source</a> <a href="#v:expectHashIdByHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveCausalHash" class="def">saveCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveCausalHash" class="link">Source</a> <a href="#v:saveCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausalHash" class="def">expectCausalHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectCausalHash" class="link">Source</a> <a href="#v:expectCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranchHash" class="def">saveBranchHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveBranchHash" class="link">Source</a> <a href="#v:saveBranchHash" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>hash_object table</h1></a><div class="top"><p class="src"><a id="v:saveHashObject" class="def">saveHashObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#saveHashObject" class="link">Source</a> <a href="#v:saveHashObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectHashIdsForObject" class="def">expectHashIdsForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#expectHashIdsForObject" class="link">Source</a> <a href="#v:expectHashIdsForObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hashIdWithVersionForObject" class="def">hashIdWithVersionForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#hashIdWithVersionForObject" class="link">Source</a> <a href="#v:hashIdWithVersionForObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadObjectIdForPrimaryHashId" class="def">loadObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectIdForPrimaryHashId" class="link">Source</a> <a href="#v:loadObjectIdForPrimaryHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectObjectIdForPrimaryHashId" class="def">expectObjectIdForPrimaryHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectIdForPrimaryHashId" class="link">Source</a> <a href="#v:expectObjectIdForPrimaryHashId" class="selflink">#</a></p><div class="doc"><p>Not all hashes have corresponding objects; e.g., hashes of term types</p></div></div><div class="top"><p class="src"><a id="v:loadObjectIdForPrimaryHash" class="def">loadObjectIdForPrimaryHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectIdForPrimaryHash" class="link">Source</a> <a href="#v:loadObjectIdForPrimaryHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectObjectIdForPrimaryHash" class="def">expectObjectIdForPrimaryHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectIdForPrimaryHash" class="link">Source</a> <a href="#v:expectObjectIdForPrimaryHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadPatchObjectIdForPrimaryHash" class="def">loadPatchObjectIdForPrimaryHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadPatchObjectIdForPrimaryHash" class="link">Source</a> <a href="#v:loadPatchObjectIdForPrimaryHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadObjectIdForAnyHash" class="def">loadObjectIdForAnyHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectIdForAnyHash" class="link">Source</a> <a href="#v:loadObjectIdForAnyHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadObjectIdForAnyHashId" class="def">loadObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadObjectIdForAnyHashId" class="link">Source</a> <a href="#v:loadObjectIdForAnyHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectObjectIdForAnyHashId" class="def">expectObjectIdForAnyHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectIdForAnyHashId" class="link">Source</a> <a href="#v:expectObjectIdForAnyHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recordObjectRehash" class="def">recordObjectRehash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#recordObjectRehash" class="link">Source</a> <a href="#v:recordObjectRehash" class="selflink">#</a></p><div class="doc"><p><code>recordObjectRehash old new</code> records that object <code>old</code> was rehashed and inserted as a new object, <code>new</code>.</p><p>This function rewrites <code>old</code>'s <code>hash_object</code> rows in place to point at the new object.</p></div></div><a href="#g:4" id="g:4"><h1>object table</h1></a><div class="top"><p class="src"><a id="v:saveObject" class="def">saveObject</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveObject" class="link">Source</a> <a href="#v:saveObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isObjectHash" class="def">isObjectHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#isObjectHash" class="link">Source</a> <a href="#v:isObjectHash" class="selflink">#</a></p><div class="doc"><p>Does a hash correspond to an object?</p></div></div><div class="top"><p class="src"><a id="v:expectObject" class="def">expectObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectObject" class="link">Source</a> <a href="#v:expectObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectPrimaryHashByObjectId" class="def">expectPrimaryHashByObjectId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectPrimaryHashByObjectId" class="link">Source</a> <a href="#v:expectPrimaryHashByObjectId" class="selflink">#</a></p><div class="doc"><p>All objects have corresponding hashes.</p></div></div><div class="top"><p class="src"><a id="v:expectPrimaryHashIdForObject" class="def">expectPrimaryHashIdForObject</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectPrimaryHashIdForObject" class="link">Source</a> <a href="#v:expectPrimaryHashIdForObject" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectObjectWithHashIdAndType" class="def">expectObjectWithHashIdAndType</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a>, <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="src/U.Codebase.Sqlite.Queries.html#expectObjectWithHashIdAndType" class="link">Source</a> <a href="#v:expectObjectWithHashIdAndType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectDeclObject" class="def">expectDeclObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectDeclObject" class="link">Source</a> <a href="#v:expectDeclObject" class="selflink">#</a></p><div class="doc"><p>Expect a decl component object.</p></div></div><div class="top"><p class="src"><a id="v:loadDeclObject" class="def">loadDeclObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/U.Codebase.Sqlite.Queries.html#loadDeclObject" class="link">Source</a> <a href="#v:loadDeclObject" class="selflink">#</a></p><div class="doc"><p>Load a decl component object.</p></div></div><div class="top"><p class="src"><a id="v:expectNamespaceObject" class="def">expectNamespaceObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectNamespaceObject" class="link">Source</a> <a href="#v:expectNamespaceObject" class="selflink">#</a></p><div class="doc"><p>Expect a namespace object.</p></div></div><div class="top"><p class="src"><a id="v:loadNamespaceObject" class="def">loadNamespaceObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/U.Codebase.Sqlite.Queries.html#loadNamespaceObject" class="link">Source</a> <a href="#v:loadNamespaceObject" class="selflink">#</a></p><div class="doc"><p>Load a namespace object.</p></div></div><div class="top"><p class="src"><a id="v:expectPatchObject" class="def">expectPatchObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectPatchObject" class="link">Source</a> <a href="#v:expectPatchObject" class="selflink">#</a></p><div class="doc"><p>Expect a patch object.</p></div></div><div class="top"><p class="src"><a id="v:loadPatchObject" class="def">loadPatchObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/U.Codebase.Sqlite.Queries.html#loadPatchObject" class="link">Source</a> <a href="#v:loadPatchObject" class="selflink">#</a></p><div class="doc"><p>Load a patch object.</p></div></div><div class="top"><p class="src"><a id="v:loadTermObject" class="def">loadTermObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/U.Codebase.Sqlite.Queries.html#loadTermObject" class="link">Source</a> <a href="#v:loadTermObject" class="selflink">#</a></p><div class="doc"><p>Load a term component object.</p></div></div><div class="top"><p class="src"><a id="v:expectTermObject" class="def">expectTermObject</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> a <a href="src/U.Codebase.Sqlite.Queries.html#expectTermObject" class="link">Source</a> <a href="#v:expectTermObject" class="selflink">#</a></p><div class="doc"><p>Expect a term component object.</p></div></div><a href="#g:5" id="g:5"><h1>namespace_root table</h1></a><div class="top"><p class="src"><a id="v:loadNamespaceRoot" class="def">loadNamespaceRoot</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadNamespaceRoot" class="link">Source</a> <a href="#v:loadNamespaceRoot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setNamespaceRoot" class="def">setNamespaceRoot</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#setNamespaceRoot" class="link">Source</a> <a href="#v:setNamespaceRoot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectNamespaceRoot" class="def">expectNamespaceRoot</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectNamespaceRoot" class="link">Source</a> <a href="#v:expectNamespaceRoot" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>causals</h1></a><a href="#g:7" id="g:7"><h2>causal table</h2></a><div class="top"><p class="src"><a id="v:saveCausal" class="def">saveCausal</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#saveCausal" class="link">Source</a> <a href="#v:saveCausal" class="selflink">#</a></p><div class="doc"><p>Maybe we would generalize this to something other than NamespaceHash if we
 end up wanting to store other kinds of Causals here too.</p></div></div><div class="top"><p class="src"><a id="v:isCausalHash" class="def">isCausalHash</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#isCausalHash" class="link">Source</a> <a href="#v:isCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausal" class="def">expectCausal</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Causal.html#t:SyncCausalFormat" title="U.Codebase.Sqlite.Causal">SyncCausalFormat</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectCausal" class="link">Source</a> <a href="#v:expectCausal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalHashIdByCausalHash" class="def">loadCausalHashIdByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalHashIdByCausalHash" class="link">Source</a> <a href="#v:loadCausalHashIdByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausalHashIdByCausalHash" class="def">expectCausalHashIdByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectCausalHashIdByCausalHash" class="link">Source</a> <a href="#v:expectCausalHashIdByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausalValueHashId" class="def">expectCausalValueHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectCausalValueHashId" class="link">Source</a> <a href="#v:expectCausalValueHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalByCausalHash" class="def">loadCausalByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>)) <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalByCausalHash" class="link">Source</a> <a href="#v:loadCausalByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausalByCausalHash" class="def">expectCausalByCausalHash</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#expectCausalByCausalHash" class="link">Source</a> <a href="#v:expectCausalByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadBranchObjectIdByCausalHashId" class="def">loadBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#loadBranchObjectIdByCausalHashId" class="link">Source</a> <a href="#v:loadBranchObjectIdByCausalHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectBranchObjectIdByCausalHashId" class="def">expectBranchObjectIdByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectBranchObjectIdByCausalHashId" class="link">Source</a> <a href="#v:expectBranchObjectIdByCausalHashId" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h2>causal_parent table</h2></a><div class="top"><p class="src"><a id="v:saveCausalParents" class="def">saveCausalParents</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#saveCausalParents" class="link">Source</a> <a href="#v:saveCausalParents" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalParents" class="def">loadCausalParents</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalParents" class="link">Source</a> <a href="#v:loadCausalParents" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalParentsByHash" class="def">loadCausalParentsByHash</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadCausalParentsByHash" class="link">Source</a> <a href="#v:loadCausalParentsByHash" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="U-Codebase-Sqlite-Queries.html#v:loadCausalParents" title="U.Codebase.Sqlite.Queries">loadCausalParents</a></code>, but the input and outputs are hashes, not hash ids.</p></div></div><div class="top"><p class="src"><a id="v:before" class="def">before</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#before" class="link">Source</a> <a href="#v:before" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lca" class="def">lca</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#lca" class="link">Source</a> <a href="#v:lca" class="selflink">#</a></p></div><a href="#g:9" id="g:9"><h1>watch table</h1></a><div class="top"><p class="src"><a id="v:saveWatch" class="def">saveWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#saveWatch" class="link">Source</a> <a href="#v:saveWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatch" class="def">loadWatch</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite.html#t:SqliteExceptionReason" title="Unison.Sqlite">SqliteExceptionReason</a> e =&gt; <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; (<a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/U.Codebase.Sqlite.Queries.html#loadWatch" class="link">Source</a> <a href="#v:loadWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatchesByWatchKind" class="def">loadWatchesByWatchKind</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadWatchesByWatchKind" class="link">Source</a> <a href="#v:loadWatchesByWatchKind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatchKindsByReference" class="def">loadWatchKindsByReference</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:IdH" title="U.Codebase.Sqlite.Reference">IdH</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a>] <a href="src/U.Codebase.Sqlite.Queries.html#loadWatchKindsByReference" class="link">Source</a> <a href="#v:loadWatchKindsByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearWatches" class="def">clearWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#clearWatches" class="link">Source</a> <a href="#v:clearWatches" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h1>indexes</h1></a><a href="#g:11" id="g:11"><h2>dependents index</h2></a><div class="top"><p class="src"><a id="v:addToDependentsIndex" class="def">addToDependentsIndex</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addToDependentsIndex" class="link">Source</a> <a href="#v:addToDependentsIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDependentsForDependency" class="def">getDependentsForDependency</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependentsForDependency" class="link">Source</a> <a href="#v:getDependentsForDependency" class="selflink">#</a></p><div class="doc"><p>Get non-self, user-defined dependents of a dependency.</p></div></div><div class="top"><p class="src"><a id="v:getDependentsForDependencyComponent" class="def">getDependentsForDependencyComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependentsForDependencyComponent" class="link">Source</a> <a href="#v:getDependentsForDependencyComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDependenciesForDependent" class="def">getDependenciesForDependent</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Reference" title="U.Codebase.Sqlite.Reference">Reference</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependenciesForDependent" class="link">Source</a> <a href="#v:getDependenciesForDependent" class="selflink">#</a></p><div class="doc"><p>Get non-self dependencies of a user-defined dependent.</p></div></div><div class="top"><p class="src"><a id="v:getDependencyIdsForDependent" class="def">getDependencyIdsForDependent</a> :: <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getDependencyIdsForDependent" class="link">Source</a> <a href="#v:getDependencyIdsForDependent" class="selflink">#</a></p><div class="doc"><p>Get non-self, user-defined dependencies of a user-defined dependent.</p></div></div><a href="#g:12" id="g:12"><h2>migrations</h2></a><div class="top"><p class="src"><a id="v:countObjects" class="def">countObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countObjects" class="link">Source</a> <a href="#v:countObjects" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:countCausals" class="def">countCausals</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countCausals" class="link">Source</a> <a href="#v:countCausals" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:countWatches" class="def">countWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Queries.html#countWatches" class="link">Source</a> <a href="#v:countWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCausalsWithoutBranchObjects" class="def">getCausalsWithoutBranchObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getCausalsWithoutBranchObjects" class="link">Source</a> <a href="#v:getCausalsWithoutBranchObjects" class="selflink">#</a></p><div class="doc"><p>Finds all causals that refer to a branch for which we don't have an object stored.
 Although there are plans to support this in the future, currently all such cases
 are the result of database inconsistencies and are unexpected.</p></div></div><div class="top"><p class="src"><a id="v:removeHashObjectsByHashingVersion" class="def">removeHashObjectsByHashingVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:HashVersion" title="U.Codebase.Sqlite.DbId">HashVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#removeHashObjectsByHashingVersion" class="link">Source</a> <a href="#v:removeHashObjectsByHashingVersion" class="selflink">#</a></p><div class="doc"><p>Delete all hash objects of a given hash version.
 Leaves the corresponding <code>hash</code>es in the hash table alone.</p></div></div><a href="#g:13" id="g:13"><h2>type index</h2></a><div class="top"><p class="src"><a id="v:addToTypeIndex" class="def">addToTypeIndex</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addToTypeIndex" class="link">Source</a> <a href="#v:addToTypeIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getReferentsByType" class="def">getReferentsByType</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getReferentsByType" class="link">Source</a> <a href="#v:getReferentsByType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeReferenceForReferent" class="def">getTypeReferenceForReferent</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#getTypeReferenceForReferent" class="link">Source</a> <a href="#v:getTypeReferenceForReferent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeReferencesForComponent" class="def">getTypeReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#getTypeReferencesForComponent" class="link">Source</a> <a href="#v:getTypeReferencesForComponent" class="selflink">#</a></p></div><a href="#g:14" id="g:14"><h2>type mentions index</h2></a><div class="top"><p class="src"><a id="v:addToTypeMentionsIndex" class="def">addToTypeMentionsIndex</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addToTypeMentionsIndex" class="link">Source</a> <a href="#v:addToTypeMentionsIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getReferentsByTypeMention" class="def">getReferentsByTypeMention</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Queries.html#getReferentsByTypeMention" class="link">Source</a> <a href="#v:getReferentsByTypeMention" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTypeMentionsReferencesForComponent" class="def">getTypeMentionsReferencesForComponent</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference-39-" title="U.Codebase.Reference">Reference'</a> <a href="U-Codebase-Sqlite-DbId.html#t:TextId" title="U.Codebase.Sqlite.DbId">TextId</a> <a href="U-Codebase-Sqlite-DbId.html#t:HashId" title="U.Codebase.Sqlite.DbId">HashId</a>, <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#getTypeMentionsReferencesForComponent" class="link">Source</a> <a href="#v:getTypeMentionsReferencesForComponent" class="selflink">#</a></p></div><a href="#g:15" id="g:15"><h1>hash prefix lookup</h1></a><div class="top"><p class="src"><a id="v:objectIdByBase32Prefix" class="def">objectIdByBase32Prefix</a> :: <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#objectIdByBase32Prefix" class="link">Source</a> <a href="#v:objectIdByBase32Prefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:namespaceHashIdByBase32Prefix" class="def">namespaceHashIdByBase32Prefix</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#namespaceHashIdByBase32Prefix" class="link">Source</a> <a href="#v:namespaceHashIdByBase32Prefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:causalHashIdByBase32Prefix" class="def">causalHashIdByBase32Prefix</a> :: <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>] <a href="src/U.Codebase.Sqlite.Queries.html#causalHashIdByBase32Prefix" class="link">Source</a> <a href="#v:causalHashIdByBase32Prefix" class="selflink">#</a></p></div><a href="#g:16" id="g:16"><h1>Name Lookup</h1></a><div class="top"><p class="src"><a id="v:resetNameLookupTables" class="def">resetNameLookupTables</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#resetNameLookupTables" class="link">Source</a> <a href="#v:resetNameLookupTables" class="selflink">#</a></p><div class="doc"><p>Drop and recreate the name lookup tables. Use this when resetting names to a new branch.</p></div></div><div class="top"><p class="src"><a id="v:insertTermNames" class="def">insertTermNames</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="U-Codebase-Sqlite-Referent.html#t:TextReferent" title="U.Codebase.Sqlite.Referent">TextReferent</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NamedRef.html#t:ConstructorType" title="U.Codebase.Sqlite.NamedRef">ConstructorType</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#insertTermNames" class="link">Source</a> <a href="#v:insertTermNames" class="selflink">#</a></p><div class="doc"><p>Insert the given set of term names into the name lookup table</p></div></div><div class="top"><p class="src"><a id="v:insertTypeNames" class="def">insertTypeNames</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="U-Codebase-Sqlite-Reference.html#t:TextReference" title="U.Codebase.Sqlite.Reference">TextReference</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#insertTypeNames" class="link">Source</a> <a href="#v:insertTypeNames" class="selflink">#</a></p><div class="doc"><p>Insert the given set of type names into the name lookup table</p></div></div><div class="top"><p class="src"><a id="v:rootTermNames" class="def">rootTermNames</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="U-Codebase-Sqlite-Referent.html#t:TextReferent" title="U.Codebase.Sqlite.Referent">TextReferent</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NamedRef.html#t:ConstructorType" title="U.Codebase.Sqlite.NamedRef">ConstructorType</a>)] <a href="src/U.Codebase.Sqlite.Queries.html#rootTermNames" class="link">Source</a> <a href="#v:rootTermNames" class="selflink">#</a></p><div class="doc"><p>Get the list of a term names in the root namespace according to the name lookup index</p></div></div><div class="top"><p class="src"><a id="v:rootTypeNames" class="def">rootTypeNames</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="U-Codebase-Sqlite-Reference.html#t:TextReference" title="U.Codebase.Sqlite.Reference">TextReference</a>] <a href="src/U.Codebase.Sqlite.Queries.html#rootTypeNames" class="link">Source</a> <a href="#v:rootTypeNames" class="selflink">#</a></p><div class="doc"><p>Get the list of a type names in the root namespace according to the name lookup index</p></div></div><a href="#g:17" id="g:17"><h1>garbage collection</h1></a><div class="top"><p class="src"><a id="v:garbageCollectObjectsWithoutHashes" class="def">garbageCollectObjectsWithoutHashes</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#garbageCollectObjectsWithoutHashes" class="link">Source</a> <a href="#v:garbageCollectObjectsWithoutHashes" class="selflink">#</a></p><div class="doc"><p>Delete objects without hashes. An object typically *would* have a hash, but (for example) during a migration in which an object's hash
 may change, its corresponding hash_object row may be updated to point at a new version of that object. This procedure clears out all
 references to objects that do not have any corresponding hash_object rows.</p></div></div><div class="top"><p class="src"><a id="v:garbageCollectWatchesWithoutObjects" class="def">garbageCollectWatchesWithoutObjects</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#garbageCollectWatchesWithoutObjects" class="link">Source</a> <a href="#v:garbageCollectWatchesWithoutObjects" class="selflink">#</a></p><div class="doc"><p>Delete all</p></div></div><a href="#g:18" id="g:18"><h1>sync temp entities</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EntityLocation" class="def">EntityLocation</a> <a href="src/U.Codebase.Sqlite.Queries.html#EntityLocation" class="link">Source</a> <a href="#t:EntityLocation" class="selflink">#</a></p><div class="doc"><p>Where an entity is stored.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EntityInMainStorage" class="def">EntityInMainStorage</a></td><td class="doc"><p><code>object</code> / <code>causal</code></p></td></tr><tr><td class="src"><a id="v:EntityInTempStorage" class="def">EntityInTempStorage</a></td><td class="doc"><p><code>temp_entity</code></p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:entityExists" class="def">entityExists</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Queries.html#entityExists" class="link">Source</a> <a href="#v:entityExists" class="selflink">#</a></p><div class="doc"><p>Does this entity already exist in the database, i.e. in the <code>object</code> or <code>causal</code> table?</p></div></div><div class="top"><p class="src"><a id="v:entityLocation" class="def">entityLocation</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Queries.html#t:EntityLocation" title="U.Codebase.Sqlite.Queries">EntityLocation</a>) <a href="src/U.Codebase.Sqlite.Queries.html#entityLocation" class="link">Source</a> <a href="#v:entityLocation" class="selflink">#</a></p><div class="doc"><p>Where is an entity stored?</p></div></div><div class="top"><p class="src"><a id="v:expectEntity" class="def">expectEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectEntity" class="link">Source</a> <a href="#v:expectEntity" class="selflink">#</a></p><div class="doc"><p>Read an entity out of main storage.</p></div></div><div class="top"><p class="src"><a id="v:syncToTempEntity" class="def">syncToTempEntity</a> :: <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> <a href="src/U.Codebase.Sqlite.Queries.html#syncToTempEntity" class="link">Source</a> <a href="#v:syncToTempEntity" class="selflink">#</a></p><div class="doc"><p>looking up all of the text and hashes is the first step of converting a SyncEntity to a Share.Entity</p></div></div><div class="top"><p class="src"><a id="v:insertTempEntity" class="def">insertTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> -&gt; <a href="../nonempty-containers-0.3.4.4/Data-Map-NonEmpty.html#t:NEMap" title="Data.Map.NonEmpty">NEMap</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#insertTempEntity" class="link">Source</a> <a href="#v:insertTempEntity" class="selflink">#</a></p><div class="doc"><p>Insert a new <code>temp_entity</code> row, and its associated 1+ <code>temp_entity_missing_dependency</code> rows.</p><p>Preconditions:
   1. The entity does not already exist in &quot;main&quot; storage (<code>object</code> / <code>causal</code>)
   2. The entity does not already exist in <code>temp_entity</code>.</p></div></div><div class="top"><p class="src"><a id="v:saveTempEntityInMain" class="def">saveTempEntityInMain</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#saveTempEntityInMain" class="link">Source</a> <a href="#v:saveTempEntityInMain" class="selflink">#</a></p><div class="doc"><p>Save a temp entity in main storage.</p><p>Precondition: all of its dependencies are already in main storage.</p></div></div><div class="top"><p class="src"><a id="v:expectTempEntity" class="def">expectTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-TempEntity.html#t:TempEntity" title="U.Codebase.Sqlite.TempEntity">TempEntity</a> <a href="src/U.Codebase.Sqlite.Queries.html#expectTempEntity" class="link">Source</a> <a href="#v:expectTempEntity" class="selflink">#</a></p><div class="doc"><p>Read an entity out of temp storage.</p></div></div><div class="top"><p class="src"><a id="v:deleteTempEntity" class="def">deleteTempEntity</a> :: <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#deleteTempEntity" class="link">Source</a> <a href="#v:deleteTempEntity" class="selflink">#</a></p><div class="doc"><p>Delete a row from the <code>temp_entity</code> table, if it exists.</p></div></div><a href="#g:19" id="g:19"><h1>elaborate hashes</h1></a><div class="top"><p class="src"><a id="v:elaborateHashes" class="def">elaborateHashes</a> :: <a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) <a href="src/U.Codebase.Sqlite.Queries.html#elaborateHashes" class="link">Source</a> <a href="#v:elaborateHashes" class="selflink">#</a></p><div class="doc"><p><a href="Elaborate.html">Elaborate</a> a set of <code>temp_entity</code> hashes.</p><p>Given a set of <code>temp_entity</code> hashes, returns the (known) set of transitive dependencies that haven't already been
 downloaded (i.e. aren't in the <code>temp_entity</code> table)</p><p>For example, if we have temp entities A and B, where A depends on B and B depends on C...</p><p>| temp_entity |   | temp_entity_missing_dependency |
   |=============|   |================================|
   | hash        |   | dependent    | dependency      |
   |-------------|   |--------------|-----------------|
   | A           |   | A            | B               |
   | B           |   | B            | C               |</p><p>... then `elaborateHashes {A}` would return the singleton set {C} (because we take the set of transitive
 dependencies {A,B,C} and subtract the set we already have, {A,B}).</p></div></div><a href="#g:20" id="g:20"><h1>db misc</h1></a><div class="top"><p class="src"><a id="v:addTempEntityTables" class="def">addTempEntityTables</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addTempEntityTables" class="link">Source</a> <a href="#v:addTempEntityTables" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addTypeMentionsToIndexForTerm" class="def">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addTypeMentionsToIndexForTerm" class="link">Source</a> <a href="#v:addTypeMentionsToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addTypeToIndexForTerm" class="def">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addTypeToIndexForTerm" class="link">Source</a> <a href="#v:addTypeToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2xTerm" class="def">c2xTerm</a> :: <span class="keyword">forall</span> m t d. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m t) -&gt; (<a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; m d) -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Queries.html#c2xTerm" class="link">Source</a> <a href="#v:c2xTerm" class="selflink">#</a></p><div class="doc"><p>implementation detail of c2{s,w}Term
  The Type is optional, because we don't store them for watch expression results.</p></div></div><div class="top"><p class="src"><a id="v:createSchema" class="def">createSchema</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#createSchema" class="link">Source</a> <a href="#v:createSchema" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectSchemaVersion" class="def">expectSchemaVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#expectSchemaVersion" class="link">Source</a> <a href="#v:expectSchemaVersion" class="selflink">#</a></p><div class="doc"><p>Expect the given schema version.</p></div></div><div class="top"><p class="src"><a id="v:localIdsToLookups" class="def">localIdsToLookups</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (t -&gt; m <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (d -&gt; m <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds-39-" title="U.Codebase.Sqlite.LocalIds">LocalIds'</a> t d -&gt; m (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) <a href="src/U.Codebase.Sqlite.Queries.html#localIdsToLookups" class="link">Source</a> <a href="#v:localIdsToLookups" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term* &amp; s2cDecl</p></div></div><div class="top"><p class="src"><a id="v:s2cDecl" class="def">s2cDecl</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Queries.html#s2cDecl" class="link">Source</a> <a href="#v:s2cDecl" class="selflink">#</a></p><div class="doc"><p>Unlocalize a decl.</p></div></div><div class="top"><p class="src"><a id="v:s2cTermWithType" class="def">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Queries.html#s2cTermWithType" class="link">Source</a> <a href="#v:s2cTermWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveDeclComponent" class="def">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveDeclComponent" class="link">Source</a> <a href="#v:saveDeclComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveReferenceH" class="def">saveReferenceH</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Reference.html#t:ReferenceH" title="U.Codebase.Sqlite.Reference">ReferenceH</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveReferenceH" class="link">Source</a> <a href="#v:saveReferenceH" class="selflink">#</a></p><div class="doc"><p>Save the text and hash parts of a Reference to the database and substitute their ids.</p></div></div><div class="top"><p class="src"><a id="v:saveSyncEntity" class="def">saveSyncEntity</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash32.html#t:Hash32" title="U.Util.Hash32">Hash32</a> -&gt; <a href="U-Codebase-Sqlite-Entity.html#t:SyncEntity" title="U.Codebase.Sqlite.Entity">SyncEntity</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a>) <a href="src/U.Codebase.Sqlite.Queries.html#saveSyncEntity" class="link">Source</a> <a href="#v:saveSyncEntity" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveTermComponent" class="def">saveTermComponent</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveTermComponent" class="link">Source</a> <a href="#v:saveTermComponent" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.10.12.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>The serialized term component if we already have it e.g. via sync</p></td></tr><tr><td class="src">-&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a></td><td class="doc"><p>term component hash</p></td></tr><tr><td class="src">-&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)]</td><td class="doc"><p>term component</p></td></tr><tr><td class="src">-&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:schemaVersion" class="def">schemaVersion</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> <a href="src/U.Codebase.Sqlite.Queries.html#schemaVersion" class="link">Source</a> <a href="#v:schemaVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setSchemaVersion" class="def">setSchemaVersion</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:SchemaVersion" title="U.Codebase.Sqlite.DbId">SchemaVersion</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#setSchemaVersion" class="link">Source</a> <a href="#v:setSchemaVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:x2cTType" class="def">x2cTType</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> <a href="src/U.Codebase.Sqlite.Queries.html#x2cTType" class="link">Source</a> <a href="#v:x2cTType" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term*</p></div></div><div class="top"><p class="src"><a id="v:x2cTerm" class="def">x2cTerm</a> :: (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalTextId" title="U.Codebase.Sqlite.LocalIds">LocalTextId</a> -&gt; <a href="../text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalDefnId" title="U.Codebase.Sqlite.LocalIds">LocalDefnId</a> -&gt; <a href="../unison-util-base32hex-0.0.0/U-Util-Hash.html#t:Hash" title="U.Util.Hash">Hash</a>) -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> <a href="src/U.Codebase.Sqlite.Queries.html#x2cTerm" class="link">Source</a> <a href="#v:x2cTerm" class="selflink">#</a></p><div class="doc"><p>implementation detail of {s,w}2c*Term*</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>